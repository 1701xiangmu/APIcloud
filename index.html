<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>Hello APP</title>
    <link rel="stylesheet" type="text/css" href="./css/api.css" />
    <style type="text/css">
    html,body{
        height: 100%;
    }
  #wrap{
        height: 100%;
        display: -webkit-box;
        display: -webkit-flex;
        display: flex;
        -webkit-box-orient: vertical;
        -webkit-flex-flow: column;
               flex-flow: column;
    }
    #head{
        text-align: center; background-color: #81a9c3; color: #fff;
        width: 100%;
    }
    #head h2{
        font-size: 20px; height: 44px; line-height: 44px; margin: 0em; color: #fff;
    }
      #mai{
        -webkit-box-flex: 1;
        -webkit-flex: 1;
        flex: 1;
    }
  /*  #footer{
        height: 30px; line-height: 30px;
        background-color: #81a9c3;
        width: 100%;
        text-align: center;
    }
    #footer h5{
        color: white;
    }
    .con{font-size: 28px; text-align: center;}
    .flex-con{
      overflow: auto
    }*/
    #route{
      width:100%;
      height:50px;
      margin-top: 50px;
      display: flex;
      text-align: center;
      background-color: pink;
    }
    #route p{
      display: inline-block;
      width: 80px;
      height:40px;
      text-align: center;
      line-height: 40px;
      font-size: 24px;
      background: orange;
      cursor: pointer;
    }
    </style>
</head>
<body>
    <div id="wrap">
      <div id="head">
        <h2>第一个demo</h2>
      </div>
      <div id="route">
          <p tapmode onclick="fnOpenRegisterWin();">跳转</p>
      </div>
      <div id="mai" class="flex-con">

      </div>

        <!-- <div id="header">
            <h1>APICloud</h1>
        </div>
        <div id="main" class="flex-con">

        </div>
        <div id="footer">
            <h5>Copyright &copy;<span id="year"></span> </h5>
        </div> -->

    </div>
</body>
<script type="text/javascript" src="./script/api.js"></script>
<script type="text/javascript">
    apiready = function(){
		// console.log("Hello APICloud");
    //
    //     var header = $api.byId('header');
    //     //适配iOS 7+，Android 4.4+状态栏
    //     $api.fixStatusBar(header);
    //
    //     var headerPos = $api.offset(header);
    //     var main = $api.byId('main');
    //     var mainPos = $api.offset(main);
    //     api.openFrame({
    //         name: 'main',
    //         url: 'html/main.html',
    //         bounces: true,
    //         rect: {
    //             x: 0,
    //             y: headerPos.h,
    //             w: 'auto',
    //             h: mainPos.h
    //         }
    //     });
    //
    //     var year = $api.byId('year');
    //     year.innerHTML = new Date().getFullYear();
    var header=$api.byId("head");
    $api.fixStatusBar(header);//拿到状态栏的高度
    var headerPos=$api.offset(header);
    var route=$api.byId("route";)
    var routeH=$api.offset(route);
    var mai = $api.byId('mai');
    var maiPos = $api.offset(mai);
    api.openFrame({
        name: 'ma',
        url: 'html/main.html',
        rect: {
            x: 0,
            y: headerPos.h+routeH.h,
            w: 'auto',
            h: maiPos.h
        }
    //     pageParam: {
    //         name: 'test'
    //     },
    //     bounces: true,
    //     bgColor: 'rgba(0,0,0,0)',
    //     vScrollBarEnabled: true,
    //     hScrollBarEnabled: true
     });

     function fnOpenRegisterWin () {
          api.openWin({
              name: 'register',
             url: 'html/register.html',
               pageParam: {
                   name: 'test'
               }
          });
      }

    var NVTabBar = api.require('NVTabBar');
        NVTabBar.open({
            styles: {
                bg: '#333',
                //bg:"widget://image/NVTabBar/tabbar_bg.png",
                h: 65,
                dividingLine: {
                    width: 0,
                    color: '#000'
                },
                badge: {
                    bgColor: '#ff0',
                    numColor: '#fff',
                    size: 6.0,
                    centerX: 40,
                    centerY: 6
                }
            },
            items: [{
                w: api.winWidth / 5.0,
                bg: {
                    marginB: 0,
                    image: 'rgba(200,200,200,0.6)'
                },
                iconRect: {
                    w: 25.0,
                    h: 25.0,
                },
                icon: {
                    normal: 'widget://image/NVTabBar/acti.png',
                    highlight: 'widget://image/NVTabBar/actied.png',
                    selected: 'widget://image/NVTabBar/actied.png'
                },
                title: {
                    text: '动态',
                    size: 12.0,
                    normal: '#696969',
                    selected: '#eb4f38',
                    marginB: 6.0
                }
            }, {
                w: api.winWidth / 5.0,
                bg: {
                    marginB: 0,
                    image: 'rgba(200,200,200,0.7)'
                },
                iconRect: {
                    w: 25.0,
                    h: 25.0,
                },
                icon: {
                    normal: 'widget://image/NVTabBar/guan.png',
                    highlight: 'widget://image/NVTabBar/guaned.png',
                    selected: 'widget://image/NVTabBar/guaned.png'
                },
                title: {
                    text: '发现',
                    size: 12.0,
                    normal: '#696969',
                    selected: '#eb4f38',
                    marginB: 6.0
                }
            }, {
                w: api.winWidth / 5.0,
                bg: {
                    marginB: 10,
                    image: 'widget://image/NVTabBar/yyuan.png' //中间背景图
                },
                iconRect: {
                    w: 32,
                    h: 32,
                },
                icon: {
                    normal: 'widget://image/NVTabBar/mai.png',
                    highlight: 'widget://image/NVTabBar/mai.png',
                    selected: 'widget://image/NVTabBar/mai.png'
                },
                title: {
                    text : '图标',
                    size: 0.0,
                    normal: '#696969',
                    selected: '#eb4f38',
                    marginB: 0
                }
            }, {
                w: api.winWidth / 5.0,
                bg: {
                    marginB: 0,
                    image: 'rgba(200,20,0,0.6)'
                },
                iconRect: {
                    w: 25.0,
                    h: 25.0,
                },
                icon: {
                    normal: 'widget://image/NVTabBar/fav.png',
                    highlight: 'widget://image/NVTabBar/faved.png',
                    selected: 'widget://image/NVTabBar/faved.png'
                },
                title: {
                    text: '消息',
                    size: 12.0,
                    normal: '#696969',
                    selected: '#eb4f38',
                    marginB: 6.0
                }
            }, {
                w: api.winWidth / 5.0,
                bg: {
                    marginB: 0,
                    image: 'rgba(220,0,220,0.7)'
                },
                iconRect: {
                    w: 25.0,
                    h: 25.0,
                },
                icon: {
                    normal: 'widget://image/NVTabBar/bir.png',
                    highlight: 'widget://image/NVTabBar/bired.png',
                    selected: 'widget://image/NVTabBar/bired.png'
                },
                title: {
                    text: '我的',
                    size: 12.0,
                    normal: '#696969',
                    selected: '#eb4f38',
                    marginB: 6.0
                }
            }],
            selectedIndex: 0
        }, function(ret, err) {

});

    };
</script>
</html>
